
主从复制
是一种数据备份的方案，是使用两个或两个以上的数据库，一个作主库，一个作从库，在主库中所作的操作，从库会同步相应的操作，使之一致

为什么主从复制？
1，读写分离 提高并发处理能力，提高吞吐量
2，数据备份 
3，高可用 当服务器宕机时，可以切换到从机上


MySQL主从复制
（1）基于Binog，主库在收到更新SQL请求时，会将请求同步给从库，从库执行SQL保持一致
（2）基于GTID方式，global transaction identify , 每个从库有自己的分布式id，从库连接主库时，告诉当前的同步进度offset，因为分布式id是全局唯一的

主从复制一致性问题
（1）异步复制
（2）半同步复制 等待部分从库返回结果
（3）组复制，强一致性 paxos算法 分布式一致性算法

redis主从复制
redis2.8以后根据分布式id增量复制，避免复制全量内容
 
